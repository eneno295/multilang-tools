# 更新日志

## [0.1.9] - 2025-01-XX

### 新增

- **孟加拉语（Bengali）翻译支持**
  - 添加孟加拉语语言识别和翻译支持
  - 支持文件名格式：`bn.ts`、`bn-BD.ts`、`bn-IN.ts`、`bengali.ts`
  - 优化语言代码映射：`bn` → `bn-BD`（RFC3066 标准格式，孟加拉国）
  - 在批量翻译和错误码翻译功能中完整支持孟加拉语
  - 支持孟加拉国（bn-BD）和印度（bn-IN）两种区域变体

### 优化

- **语言代码映射系统**
  - 在翻译服务中添加孟加拉语标准格式映射
  - 统一批量翻译和错误码翻译的语言识别逻辑
  - 完善全名格式语言识别（bengali）

## [0.1.8] - 2025-10-22

### 修复

- **错误码翻译语言识别问题**

  - 修复：`tl-PH.js` 文件名无法识别为菲律宾语的问题
  - 添加：`tl-PH.js` 和 `tl_PH.js` 到语言映射表
  - 结果：错误码翻译现在能正确输出菲律宾语

- **文件保存问题**

  - 修复：翻译成功后文件内容没有保存的问题
  - 改进：空文件检测逻辑，支持 `const errCode = {\n}` 格式
  - 结果：翻译内容现在能正确保存到目标文件

- **文件整理功能问题**

  - 修复：整理后只保留注释，错误码消失的问题
  - 改进：注释识别逻辑，支持所有 `//` 开头的注释
  - 改进：无注释文件的处理，自动创建默认分组
  - 结果：文件整理现在能正确保留所有错误码

- **翻译文件解析问题**
  - 修复：大文件（2000+翻译）无法正确解析的问题
  - 改进：使用正则表达式替代 `eval()` 方法
  - 优化：移除不必要的注释清理，避免误删字符串内容
  - 结果：现在能正确识别和显示大量翻译内容

### 优化

- **语言代码映射**

  - 统一错误码翻译和批量翻译的语言识别逻辑
  - 支持下划线格式文件名（`tl_PH.js` → `tl-PH`）
  - 改进语言代码标准化处理

- **用户体验**
  - 修复翻译进度显示中服务标识间距过小的问题
  - 改进错误提示和调试信息

## [0.1.6] - 2025-10-21

### 优化

- 完善菲律宾语（Tagalog）翻译支持

  - 优化语言代码映射：`tl` → `tl-PH`（RFC3066 标准格式）
  - 添加 `fil` 代码支持（Filipino 小写格式）
  - 改进语言代码标准化逻辑
  - 支持文件名：`tl.ts`、`tl-PH.ts`、`filipino.ts`、`tagalog.ts`

- 改进所有语言的代码映射
  - 统一两字母代码为小写（符合 ISO 639-1 标准）
  - 标准化区域代码格式（如 `en-US`、`pt-BR`）
  - 通过 21 种常见语言测试验证

### 修复

- 修复翻译进度显示中服务标识图标间距过小的问题
  - 添加 8px 右边距，改善视觉体验

### 验证

- 使用实际 errCode 文件测试翻译功能
- 所有翻译正确输出菲律宾语
- 无破坏性变更，向后兼容

## [0.1.5] - 2025-10-21

### 新增

- 完整支持菲律宾语（Filipino/Tagalog）翻译
  - 支持文件名格式：filipino.ts、tagalog.ts、tl.ts、tl-PH.ts
  - 自动识别菲律宾语代码（tl）
  - 完全兼容批量翻译功能

### 优化

- 改进语言识别系统，支持更多语言代码格式
- 完善了语言映射表，包含 Filipino 和 Tagalog 识别

## [0.1.4] - 2025-01-27

### 修复

- 修复了批量翻译中最后一个错误码无法插入的问题
  - 修复了行号范围判断逻辑，允许在文件末尾插入内容
  - 解决了动态长度变化导致的插入失败问题
  - 确保所有翻译结果都能正确保存到目标文件

### 优化

- 改进了翻译结果保存逻辑，提高翻译成功率
- 优化了文件更新机制，确保数据完整性

## [0.1.3] - 2025-01-27

### 新增

- 文件整理统计功能
  - 显示源文件详细信息（文件名、总行数、总键数）
  - 目标文件整理结果详细统计
  - 原始行数 vs 整理后行数对比
  - 原始键数 vs 整理后键数对比
  - 缺失键数和多余键数统计
  - 美观的结果卡片式布局展示

### 优化

- 改进了文件整理界面，提供更详细的统计信息
- 优化了结果展示，使用卡片式布局
- 增强了用户体验，提供更直观的整理结果反馈

## [0.1.2] - 2025-01-27

### 新增

- 智能错误码整理功能
  - 动态识别模块规则，自动分配错误码到正确模块
  - 支持语义分析，基于模块名称和错误码前缀智能分组
  - 自动重新分配错误码，将错误分配的错误码移动到正确模块
  - 保持文件结构完整性，包括开头和结尾括号

### 修复

- 修复了目标文件整理问题
  - 目标文件现在按源文件的正确模块结构重新组织
  - 解决了目标文件中中文注释和模块结构混乱的问题
  - 保持翻译内容不变，只调整文件结构
  - 支持任意数量的模块和错误码

### 优化

- 改进了文件整理逻辑，支持更智能的错误码分配
- 优化了模块识别算法，提高整理准确性
- 增强了错误处理，提升整体稳定性

## [0.1.1] - 2025-08-08

### 修复

- 修复了版本发布问题
- 完善了更新日志记录

## [0.1.0] - 2025-08-08

### 优化

- 优化了插件发布流程和版本管理
- 改进了错误处理和用户反馈
- 提升了整体稳定性和性能

## [0.0.9] - 2025-08-08

### 修复

- 修复了模板文件路径问题，使用扩展根目录定位模板文件
- 修复了 .vscodeignore 文件，确保 node-fetch 模块被正确打包
- 解决了发布版本中命令初始化失败的问题

## [0.0.8] - 2025-08-07

### 恢复

- 恢复了完整的扩展功能，包括所有命令和视图
- 保留了模板文件路径修复
- 移除了测试命令，恢复原有功能

## [0.0.7] - 2025-08-07

### 修复

- 修复了模板文件路径问题，使用扩展根目录定位模板文件
- 解决了发布版本中命令初始化失败的根本原因
- 添加了模板文件加载失败的后备方案

## [0.0.6] - 2025-08-07

### 修复

- 修复了 .vscodeignore 文件，确保 node-fetch 模块被正确打包
- 恢复了完整的翻译功能
- 解决了本地可以但发布版本不行的根本原因

## [0.0.5] - 2025-08-07

### 修复

- 修复了 node-fetch 模块依赖问题
- 暂时禁用翻译功能以避免模块导入错误
- 解决了扩展激活失败的根本原因

## [0.0.4] - 2025-08-07

### 测试

- 创建简化版本进行问题排查
- 移除复杂的模块导入，只保留基本命令注册
- 添加测试命令验证命令注册功能

## [0.0.3] - 2025-08-07

### 修复

- 修复了发布者 ID 问题
- 优化了插件发布流程

## [0.0.2] - 2025-08-07

### 修复

- 修复了发布者 ID 问题
- 优化了插件发布流程

## [0.0.1] - 2025-08-07

### 新增

- 错误码管理功能
  - 文件路径配置
  - 添加错误码
  - 刷新错误码文件列表
  - 错误码文件树形展示
- 批量翻译功能
  - 支持多种翻译服务
  - 批量翻译目标语言文件
  - 实时翻译进度显示
  - 翻译结果统计
- 文件整理功能
  - 源文件按模块整理
  - 目标文件按源文件顺序整理
  - 保持翻译内容不变
  - 智能错误码排序

### 技术特性

- 基于 VS Code 扩展 API 开发
- TypeScript 支持
- 模块化架构设计
- 用户友好的界面
